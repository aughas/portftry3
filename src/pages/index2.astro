---
import MainLayout from "../layouts/MainLayout.astro";

---
<MainLayout>
    <article>
        <div class="sticky top-20 z-50 ml-4">
          <h1 class="font-bold text-6xl">WEBSITES</h1>
          <p class="font-serif italic"> (Schoolwork and private) </p>
        </div>
      
        <a href="instagram.com" class="relative group" id="link1">
            <div class="ml-auto max-w-[60%] mt-2">
              <div class="flex gap-16">
                <h1 class="font-display text-6xl -mt-3">01</h1>
                <h1 class="text-6xl">SPINE-STUDIO.COM</h1>
              </div>
              <h2 class="text-5xl font-display italic ml-32">Redesigned existing website<br>for a school project</h2>
            </div>
            <img src="spine.webp" alt="Spine Studio" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
            <div class="ml-auto max-w-[60%] flex justify-start my-8">
              <div class="border-t w-[80%] border-black"></div>
            </div>
        </a>
      
        <a href="instagram.com" class="relative group" id="link2">
          <div class="ml-auto max-w-[60%] mt-2">
            <div class="flex gap-16">
              <h1 class="font-display text-6xl -mt-3">02</h1>
              <h1 class="text-6xl">EXPERTMENT FONT</h1>
            </div>
            <h2 class="text-5xl font-display italic ml-32">Website and content for custom<br>made font</h2>
          </div>
          <img src="typeface.jpg" alt="Expertment Font" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
          <div class="ml-auto max-w-[60%] flex justify-start my-8">
            <div class="border-t w-[80%] border-black"></div>
          </div>
        </a>
      
        <a href="instagram.com" class="relative group" id="link3">
          <div class="ml-auto max-w-[60%] mt-2">
            <div class="flex gap-16">
              <h1 class="font-display text-6xl -mt-3">03</h1>
              <h1 class="text-6xl">HÖJSKOLENDK.DK</h1>
            </div>
            <h2 class="text-5xl font-display italic ml-32">Redesigned existing website<br>for a school project</h2>
          </div>
          <img src="hojskolenweb.webp" alt="Højskolen" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
          <div class="ml-auto max-w-[60%] flex justify-start my-8">
            <div class="border-t w-[80%] border-black"></div>
          </div>
        </a>
      
        <a href="instagram.com" class="relative group" id="link4">
          <div class="ml-auto max-w-[60%] mt-2">
            <div class="flex gap-16">
              <h1 class="font-display text-6xl -mt-3">04</h1>
              <h1 class="text-6xl">DIGITAL CLEANUP DAY</h1>
            </div>
            <h2 class="text-5xl font-display italic ml-32">Another redesign for school</h2>
          </div>
          <img src="digitalclean.webp" alt="Digital Cleanup" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
          <div class="ml-auto max-w-[60%] flex justify-start my-8">
            <div class="border-t w-[80%] border-black"></div>
          </div>
        </a>
      
        <a href="instagram.com" class="relative group" id="link5">
          <div class="ml-auto max-w-[60%] mt-2">
            <div class="flex gap-16">
              <h1 class="font-display text-6xl -mt-3">05</h1>
              <h1 class="text-6xl">HOLD I HÅND MUSIC MGMT</h1>
            </div>
            <h2 class="text-5xl font-display italic ml-32">Webdesign for copenhagen<br>based music management</h2>
          </div>
          <img src="hih.png" alt="Hold I Hånd" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
          <div class="ml-auto max-w-[60%] flex justify-start my-8">
            <div class="border-t w-[80%] border-black"></div>
          </div>
        </a>
      
        <a href="instagram.com" class="relative group" id="link6">
          <div class="ml-auto max-w-[60%] mt-2">
            <div class="flex gap-16">
              <h1 class="font-display text-6xl -mt-3">06</h1>
              <h1 class="text-6xl">PLASTIC SUCKS</h1>
            </div>
            <h2 class="text-5xl font-display italic ml-32">Plastic change redesign one<br>page school project</h2>
          </div>
          <img src="plastic.webp" alt="Plastic Sucks" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
          <div class="ml-auto max-w-[60%] flex justify-start my-8">
            <div class="border-t w-[80%] border-black"></div>
          </div>
        </a>
      
        <a href="instagram.com" class="relative group" id="link7">
          <div class="ml-auto max-w-[60%] mt-2">
            <div class="flex gap-16">
              <h1 class="font-display text-6xl -mt-3">07</h1>
              <h1 class="text-6xl">KARRUSEL</h1>
            </div>
            <h2 class="text-5xl font-display italic ml-32">Karrusel festival redesign<br>list-view school project</h2>
          </div>
          <img src="karruselweb.webp" alt="Karrusel Festival" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
          <div class="ml-auto max-w-[60%] flex justify-start my-8">
            <div class="border-t w-[80%] border-black"></div>
          </div>
        </a>
      
        <a href="instagram.com" class="relative group" id="link8">
          <div class="ml-auto max-w-[60%] mt-2">
            <div class="flex gap-16">
              <h1 class="font-display text-6xl -mt-3">08</h1>
              <h1 class="text-6xl">I TRÅD MED VERDEN</h1>
            </div>
            <h2 class="text-5xl font-display italic ml-32">Website and content<br>developed for school</h2>
          </div>
          <img src="itmv.webp" alt="I Tråd Med Verden" class="hoverImage w-56 absolute opacity-0 pointer-events-none">
          <div class="ml-auto max-w-[60%] flex justify-start my-8">
            <div class="border-t w-[80%] border-black"></div>
          </div>
        </a>
      
    </article>
  
</MainLayout>


<script>
    import gsap from "gsap";
    
    // Select all the anchor elements with a class of "group" (your links)
    const links = document.querySelectorAll('a.relative.group');
    
    let activeImage; // To keep track of the active image
    let setX, setY;
    
    links.forEach((el) => {
      const image = el.querySelector('img.hoverImage');
      
      // Ensure the image is on top of the content (z-index) and invisible initially
      gsap.set(image, {
        opacity: 0,
        pointerEvents: 'none',
        zIndex: 9999,  // Set a high z-index to make sure it's above the text
        position: 'absolute',
      });
      
      // Function to align image to mouse position
      const align = (e) => {
        const rect = el.getBoundingClientRect(); // Get the link's position on the page
        setX(e.clientX - rect.left - image.clientWidth / 2); // Align image relative to link container
        setY(e.clientY - rect.top - image.clientHeight / 2); // Align image relative to link container
      };
    
      // Start following mouse movement
      const startFollow = () => document.addEventListener("mousemove", align);
    
      // Stop following mouse movement
      const stopFollow = () => document.removeEventListener("mousemove", align);
    
      // Fade in the image and make it visible
      const fade = gsap.to(image, { autoAlpha: 1, ease: "none", paused: true });
    
      // Handle mouse enter
      el.addEventListener('mouseenter', (e) => {
        fade.play();
        startFollow();
        
        if (activeImage) {
          // If there's an actively-animating one, we should match its position here
          gsap.set(image, { x: gsap.getProperty(activeImage, "x"), y: gsap.getProperty(activeImage, "y") });
        }
    
        activeImage = image;
    
        // Use gsap.quickTo for smooth movement to the cursor position
        setX = gsap.quickTo(image, "x", { duration: 0.6, ease: "power3" });
        setY = gsap.quickTo(image, "y", { duration: 0.6, ease: "power3" });
    
        // Align the image to the mouse position immediately
        align(e);
      });
    
      // Handle mouse leave
      el.addEventListener('mouseleave', () => {
        fade.reverse(); // Fade out the image
        stopFollow(); // Stop following the cursor
      });
    });
</script>

    
    
